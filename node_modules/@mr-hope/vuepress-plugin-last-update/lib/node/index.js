"use strict";
const time_1 = require("./time");
module.exports = (options) => ({
    name: "last-updated",
    extendPageData($page) {
        const { transformer } = options;
        const timestamp = time_1.getGitLastUpdatedTimeStamp($page._filePath);
        const { $lang } = $page._computed;
        if (timestamp) {
            const lastUpdated = typeof transformer === "function"
                ? transformer(timestamp, $lang)
                : time_1.defaultTransformer(timestamp, $lang, options.timezone);
            $page.lastUpdated = lastUpdated;
            $page.lastUpdatedTime = timestamp;
        }
    },
});
//# sourceMappingURL=index.js.map